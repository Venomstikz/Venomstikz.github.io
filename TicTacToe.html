<!DOCTYPE html>
<html lang="en">
<link rel="stylesheet" type="text/css" href="style.css" media="screen" />
<head>
    <meta charset="UTF-8">
    <title>TicTacToe</title>
</head>
<body
      <ul>
    <li><a href="https://venomstikz.github.io/">Blog</a></li>
    <li><a href="contact.html">Contact</a></li>
    <li><a href="about.html">About</a></li>
    <li><a href="TicTacToe.html">TicTacToe</a></li>
    <li><a href="WordGuess.html">WordGuess</a></li>
</ul>
<script>

var player = "X";
var board = [];
// Initialize board to a 2D array of empty strings, 3x3
for (var row = 0; row < 3; row++) {
var cols = [];
for (var col = 0; col < 3; col++) {
cols.push("");
}
board.push(cols);
}

// Handles click by current player of row and col
var handleClick = function(row, col) {
if(board[row][col] === "") {
board[row][col] = player;}
if(player === "X") {player ="O";}
else{player = "X";}
// TODO: Check if move is valid (space is empty)
// TODO: If move is valid, update board array with player
// TODO: Toggle current player
};

// Returns winning player if found (X or O)
// If no winner, returns empty string
var checkForWinner = function() {
if(board[0][0] === board[1][1] && board[1][1] === board[2][2]){
return board[0][0];}
if(board[0][2] === board[1][1] && board[1][1] === board[2][0]){
return board[1][1];}
if(board[0][0] === board[0][1] && board[0][1] === board[0][2]){
return board[0][0];}
if(board[1][0] === board[1][1] && board[1][1] === board[1][2]){
return board[1][0];}
if(board[2][0] === board[2][1] && board[2][1] === board[2][2]){
return board[2][1];}
if(board[0][0] === board[1][0] && board[1][0] === board[2][0]){
return board[2][0];}
if(board[0][1] === board[1][1] && board[1][1] === board[2][1]){
return board[2][1];}
if(board[0][2] === board[1][2] && board[1][2] === board[2][2]){
return board[2][2];}
// TODO: Check for win of rows, cols, or diagonals
return "";
};

var CELL_SIZE = 45;
mouseClicked = function() {
var clickedRow = Math.floor(mouseY / CELL_SIZE);
var clickedCol = Math.floor(mouseX / CELL_SIZE);
if (clickedRow <= 3 && clickedCol <= 3) {
handleClick(clickedRow, clickedCol);
}
};

draw = function() {
background(255, 255, 255);
stroke(0, 0, 0);

for (var row = 0; row < board.length; row++) {
for (var col = 0; col < board[row].length; col++) {
var cellX = 0 + col * CELL_SIZE;
var cellY = 0 + row * CELL_SIZE;
fill(181, 255, 183);
rect(cellX, cellY, CELL_SIZE, CELL_SIZE);
fill(0, 0, 0);
text(board[row][col], cellX + CELL_SIZE/3, cellY + CELL_SIZE/2);
}
}

fill(0, 0, 0);
var winner = checkForWinner();
if (winner) {
text("Winner is " + winner, 20, 160);
} else {
text("Current player is " + player, 20, 160);
}
};
</script>
</body>
</html>
